<div class="product-card">
  <!-- Shimmer overlay on hover -->
  <div class="card-shimmer"></div>

  <!-- Badge -->
  <div class="card-badge">New</div>

  <!-- Wishlist button -->
  <button class="wishlist-btn" aria-label="Add to wishlist">
    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
    </svg>
  </button>

  <!-- Image container -->
  <div class="card-image-wrapper" [routerLink]="['/details', product.id]" style="cursor:pointer">
    <div class="card-image-bg"></div>
    <img [src]="product.image" [alt]="product.title" class="card-image" />
    <div class="card-image-overlay">
      <span class="quick-view-label">Quick View</span>
    </div>
  </div>

  <!-- Content -->
  <div class="card-content">
    <!-- Category tag -->
    <span class="card-category">{{ product.category }}</span>

    <!-- Title -->
    <h2 class="card-title" [routerLink]="['/details', product.id]" style="cursor:pointer">
      {{ product.title | lowercase }}
    </h2>

    <!-- Description -->
    <p class="card-description">{{ product.description | shortText:40 }}</p>

    <!-- Rating -->
    <div class="card-rating">
      <div class="stars">
        @for (i of [1,2,3,4,5]; track i) {
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" width="14" height="14">
            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.967a1 1 0 00.95.69h4.174c.969 0 1.371 1.24.588 1.81l-3.38 2.457a1 1 0 00-.364 1.118l1.287 3.966c.3.922-.755 1.688-1.54 1.118l-3.38-2.457a1 1 0 00-1.175 0l-3.38 2.457c-.785.57-1.84-.196-1.54-1.118l1.287-3.966a1 1 0 00-.364-1.118L2.05 9.394c-.783-.57-.38-1.81.588-1.81h4.174a1 1 0 00.95-.69l1.287-3.967z"/>
          </svg>
        }
      </div>
      <span class="rating-count">(128)</span>
    </div>

    <!-- Price + CTA -->
    <div class="card-footer">
      <div class="price-block">
        <span class="price-current">${{ product.price }}</span>
        <span class="price-old">${{ (product.price * 1.2).toFixed(2) }}</span>
      </div>
      <button (click)="addToCart()" class="add-to-cart-btn" aria-label="Add to cart">
        <span class="btn-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="9" cy="21" r="1"></circle>
            <circle cx="20" cy="21" r="1"></circle>
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
          </svg>
        </span>
        <span class="btn-text">Add to Cart</span>
      </button>
    </div>
  </div>
</div>
